for (feature in feature_list) {
storage[[feature]] <- lm(get(feature) ~ get(xVar) , data = obj)
obj_new[[feature]] <- as.numeric(predict(storage[[feature]] , newdata = obj))
}
return(obj_new)
}
co2_SFH_cumsums
co2_SFH_cumsums_linear <- linearizer(co2_SFH_cumsums , NULL , "abrechnungsjahr")
#co2_SFH_cumsums_linear <- linearizer(co2_SFH_cumsums)
co2_SFH_cumsums_linear <- linearizer(co2_SFH_cumsums , NULL , "abrechnungsjahr")
plot_byET(co2_SFH_cumsums_linear , "Jahr" , "kilo t." , NULL)
co2_SFH
co2_SFH
co2_SFH_linear <- linearizer(co2_SFH_cumsums,"total","abrechnungsjahr")
co2_SFH_linear
co2_SFH_linear_cumsums <- getCumSums(co2_SFH_linear , "abrechnungsjahr")
plot_byET(co2_SFH_linear_cumsums , "Jahr" , "kilo t." , NULL)
co2_SFH
co2_SFH_linear <- linearizer(co2_SFH,"total","abrechnungsjahr")
co2_SFH_linear
co2_SFH_linear_cumsums <- getCumSums(co2_SFH_linear , "abrechnungsjahr")
plot_byET(co2_SFH_linear_cumsums , "Jahr" , "kilo t." , NULL)
co2_SFH_linear
co2_SFH_linear
co2_SFH_linear_cumsums <- getCumSums(co2_SFH_linear , "abrechnungsjahr")
co2_SFH_linear_cumsums
plot_byET(co2_SFH_linear_cumsums , "Jahr" , "kilo t." , NULL)
co2_SFH_linear
co2_SFH_linear_rel <- find_proportions(co2_SFH_linear , "abrechnungsjahr")
co2_SFH_linear_rel
rowSums(co2_SFH_linear_rel)
co2_SFH_linear_rel
co2_SFH_linear_rel <- find_proportions(co2_SFH_linear , "abrechnungsjahr")
co2_SFH_linear_rel_cumsums <- getCumSums(co2_SFH_linear_rel , "abrechnungsjahr")
plot_byET(co2_SFH_linear_rel_cumsums , "Jahr" , "Anteile" , NULL)
co2_SFH_linear_rel <- find_proportions(co2_SFH_linear , "abrechnungsjahr")
co2_SFH_linear_rel_cumsums <- getCumSums(co2_SFH_linear_rel , "abrechnungsjahr")
plot_byET(co2_SFH_linear_rel_cumsums , "Jahr" , "Anteile" , NULL)
co2_SFH_linear_rel
co2_SFH_linear_rel <- find_proportions(co2_SFH_linear , "abrechnungsjahr")
co2_SFH_linear_rel_cumsums <- getCumSums(co2_SFH_linear_rel , "abrechnungsjahr")
plot_byET(co2_SFH_linear_rel_cumsums , "Jahr" , "Anteile" , NULL)
co2_SFH_linear
co2_SFH_linear <- linearizer(co2_SFH,"total","abrechnungsjahr")
co2_SFH_linear_cumsums <- getCumSums(co2_SFH_linear , "abrechnungsjahr")
plot_byET(co2_SFH_linear_cumsums , "Jahr" , "kilo t." , NULL)
co2_MFH_linear <- linearizer(co2_MFH,"total","abrechnungsjahr")
co2_MFH_linear_cumsums <- getCumSums(co2_MFH_linear , "abrechnungsjahr")
plot_byET(co2_MFH_linear_cumsums , "Jahr" , "kilo t." , NULL)
co2_MFH_linear_rel <- find_proportions(co2_MFH_linear , "abrechnungsjahr")
co2_MFH_linear_rel_cumsums <- getCumSums(co2_MFH_linear_rel , "abrechnungsjahr")
plot_byET(co2_MFH_linear_rel_cumsums , "Jahr" , "Anteile" , NULL)
co2_ALL_linear <- linearizer(co2_ALL,"total","abrechnungsjahr")
co2_ALL_linear_cumsums <- getCumSums(co2_ALL_linear , "abrechnungsjahr")
plot_byET(co2_ALL_linear_cumsums , "Jahr" , "kilo t." , NULL)
co2_ALL_linear_rel <- find_proportions(co2_ALL_linear , "abrechnungsjahr")
co2_ALL_linear_rel_cumsums <- getCumSums(co2_ALL_linear_rel , "abrechnungsjahr")
plot_byET(co2_ALL_linear_rel_cumsums , "Jahr" , "Anteile" , NULL)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
table01
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
table01
library(gridExtra)
library(grid)
table01[1,1]
library(gridExtra)
library(grid)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 14),rows=NULL)
header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und beheizte Wohnfläche 2002 - 2018")
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
library(gridExtra)
library(grid)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und beheizte Wohnfläche 2002 - 2018")
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
knitr::opts_chunk$set(echo = TRUE)
library(gridExtra)
library(grid)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und beheizte Wohnfläche 2002 - 2018")
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
library(gridExtra)
library(grid)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head1", "head2"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
library(gridExtra)
library(grid)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head1", "head2"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths
attributes(jn)
max(jn$widths)
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths
jn$widths[1]
jn$widths[2]
length(jn$widths)
tab01$widths
length(tab01$widths)
header <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head1", "head2"))
length(header$widths)
jn <- gtable_combine(header[1,],tab01,along=2)
length(jn$widths)
length(header$widths)
header[1,]
library(gridExtra)
library(grid)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header0 <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head01", "head02"))
header <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head1", "head2"))
jn <- gtable_combine(header0[1,],header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header0 <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head01", "head02"))
header <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head1", "head2"))
jn <- gtable_combine(header0[1,],header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4),c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
header <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head1", "head2"))
jn <- gtable_combine(header0[1,],header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
header <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head1", "head2"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
header <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head1", "head2"))
jn <- gtable_combine(header[1,],tab01,along=2)
header0 <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head01", "head02"))
jn <- gtable_combine(header0[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
header <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head1", "head2"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
header0 <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head01", "head02"))
jn <- gtable_combine(header0[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
#header0 <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head01", "head02"))
header <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head1", "head2"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
header0 <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head01", "head02"))
jn <- gtable_combine(header0[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
#header0 <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head01", "head02"))
header <- tableGrob(table01[1, 1:2], rows=NULL, cols=c("head1", "head2"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
header0 <- tableGrob(table01[1, 1:2], rows=NULL, cols=c("head01", "head02"))
jn <- gtable_combine(header0[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(table01[1, 1],rows=NULL, cols=c("head1"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 8)
#header0 <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head01", "head02"))
#jn <- gtable_combine(header0[1,],jn,along=2)
#jn$widths <- rep(max(jn$widths), length(jn$widths))
#jn$layout[1:2 , c("r","l")] <- list(1,8)
grid.newpage()
grid.draw(jn)
knitr::opts_chunk$set(echo = FALSE)
tab <- tableGrob(df1 , rows=NULL)
df1 <- as.data.frame(matrix(1:(17*8),17))
tab <- tableGrob(df1 , rows=NULL)
header <- tableGrob(df1[1, 1], rows=NULL, cols="head1")
jn <- gtable_combine(header[1,], tab, along=2)
jn$layout[1:2 , c("l","r")] <- list(1,8)
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(table01[1, 1],rows=NULL, cols=c("head1"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
#header0 <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head01", "head02"))
#jn <- gtable_combine(header0[1,],jn,along=2)
#jn$widths <- rep(max(jn$widths), length(jn$widths))
#jn$layout[1:2 , c("r","l")] <- list(1,8)
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(table01[1, 1],rows=NULL, cols=c("head1"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header2 <- tableGrob(table01[1, 1],rows=NULL, cols=c("head2"))
jn <- gtable_combine(header2[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(table01[1, 1],rows=NULL, cols=c("head1"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header2 <- tableGrob(table01[1, 1],rows=NULL, cols=c("head2"))
jn <- gtable_combine(header2[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- 1#list(1, 4)
#header3 <- tableGrob(table01[1, 1:2],rows=NULL, cols=c("head3","head4"))
#jn <- gtable_combine(header2[1,],jn,along=2)
#jn$widths <- rep(max(jn$widths), length(jn$widths))
#jn$layout[1:2 , c("r","l")] <- list(1, 4)
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(table01[1, 1],rows=NULL, cols=c("head1"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header2 <- tableGrob(table01[1, 1],rows=NULL, cols=c("head2"))
jn <- gtable_combine(header2[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
#header3 <- tableGrob(table01[1, 1:2],rows=NULL, cols=c("head3","head4"))
#jn <- gtable_combine(header2[1,],jn,along=2)
#jn$widths <- rep(max(jn$widths), length(jn$widths))
#jn$layout[1:2 , c("r","l")] <- list(1, 4)
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(table01[1, 1],rows=NULL, cols=c("head1"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header2 <- tableGrob(table01[1, 1],rows=NULL, cols=c("head2"))
jn <- gtable_combine(header2[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header3 <- tableGrob(table01[1, 1:2],rows=NULL, cols=c("head3","head4"))
jn <- gtable_combine(header2[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1,3),c(2,4))
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(table01[1, 1],rows=NULL, cols=c("head1"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header2 <- tableGrob(table01[1, 1],rows=NULL, cols=c("head2"))
jn <- gtable_combine(header2[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
#header3 <- tableGrob(table01[1, 1:2],rows=NULL, cols=c("head3","head4"))
#jn <- gtable_combine(header2[1,],jn,along=2)
#jn$widths <- rep(max(jn$widths), length(jn$widths))
#jn$layout[1:4 , c("r","l")] <- list(c(1,3),c(2,4))
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
#header0 <- tableGrob(mtcars[1, 1:2], rows=NULL, cols=c("head01", "head02"))
header <- tableGrob(table01[1, 1:2], rows=NULL, cols=c("head1", "head2"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
header0 <- tableGrob(table01[1, 1:2], rows=NULL, cols=c("head01", "head02"))
jn <- gtable_combine(header0[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1, 3), c(2, 4))
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(table01[1, 1],rows=NULL, cols=c("head1"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header2 <- tableGrob(table01[1, 1],rows=NULL, cols=c("head2"))
jn <- gtable_combine(header2[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header3 <- tableGrob(table01[1, 1],rows=NULL, cols=c("head3"))
jn <- gtable_combine(header2[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1,4)
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(table01[1, 1],rows=NULL, cols=c("head1"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header2 <- tableGrob(table01[1, 1],rows=NULL, cols=c("head2"))
jn <- gtable_combine(header2[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header3 <- tableGrob(table01[1, 1:2],rows=NULL, cols=c("head3","head4"))
jn <- gtable_combine(header3[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:4 , c("r","l")] <- list(c(1,3),c(2,4))
grid.newpage()
grid.draw(jn)
table01 <- data.frame(aa=sample(10) , bb = sample(10) , cc = sample(10) , dd = sample(10))
tab01 <- tableGrob(table01,theme=ttheme_default(base_size = 8),rows=NULL)
#header <- tableGrob(table01[1,1] , theme=ttheme_default(base_size = 14),
#                    rows=NULL, cols="Tabelle: Berlin, Wohngebäude,flächenbezogene CO2-Emission und #beheizte Wohnfläche 2002 - 2018")
header <- tableGrob(table01[1, 1],rows=NULL, cols=c("head1"))
jn <- gtable_combine(header[1,],tab01,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header2 <- tableGrob(table01[1, 1],rows=NULL, cols=c("head2"))
jn <- gtable_combine(header2[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
jn$layout[1:2 , c("r","l")] <- list(1, 4)
header3 <- tableGrob(table01[1, 1:2],rows=NULL, cols=c("head3","head4"))
jn <- gtable_combine(header3[1,],jn,along=2)
jn$widths <- rep(max(jn$widths), length(jn$widths))
#jn$layout[1:4 , c("r","l")] <- list(c(1,3),c(2,4))
jn$layout[1:4 , c("r","l")] <- list(c(1,2),c(1,4))
grid.newpage()
grid.draw(jn)
knitr::opts_chunk$set(echo = FALSE,cache=FALSE,message=FALSE)
bezirk <- "charlottenburg_wilmersdorf"
source("../mainScriptCO2Emissions.R")
co2_SFH <- main_function("SFH" , bezirk)
co2_MFH <- main_function("MFH" , bezirk)
co2_ALL <- co2_SFH + co2_MFH
co2_ALL$abrechnungsjahr <- 2002:2018
co2_SFH <- co2_SFH/1e7
co2_MFH <- co2_MFH/1e7
co2_ALL <- co2_ALL/1e7
co2_SFH$abrechnungsjahr <- 2002:2018
co2_MFH$abrechnungsjahr <- 2002:2018
co2_ALL$abrechnungsjahr <- 2002:2018
co2_SFH
co2_MFH
getwd()
setwd("D:/GITHUB_REPOS/co2emissions/Berlin/BezirkAnalysis/CO2Emission_AlleBezirke")
source("../mainScriptCO2Emissions.R")
berlin_sfh <- getBerlinData("sfh")
berlin_sfh <- getBerlinData("SFH")
unique(berlin_sfh$bezirk)
unique(berlin_sfh$bezirk)
knitr::opts_chunk$set(echo = FALSE,cache=FALSE,message=FALSE)
source("../mainScriptCO2Emissions.R")
co2_SFH <- main_function("SFH" , bezirk)
co2_MFH <- main_function("MFH" , bezirk)
co2_ALL <- co2_SFH + co2_MFH
co2_ALL$abrechnungsjahr <- 2002:2018
co2_SFH <- co2_SFH/1e7
co2_MFH <- co2_MFH/1e7
co2_ALL <- co2_ALL/1e7
co2_SFH$abrechnungsjahr <- 2002:2018
co2_MFH$abrechnungsjahr <- 2002:2018
co2_ALL$abrechnungsjahr <- 2002:2018
bezirk <- "friedrichshain_kreuzberg"
rm(list=ls())
bezirk <- "friedrichshain_kreuzberg"
source("../mainScriptCO2Emissions.R")
co2_SFH <- main_function("SFH" , bezirk)
co2_MFH <- main_function("MFH" , bezirk)
co2_ALL <- co2_SFH + co2_MFH
co2_ALL$abrechnungsjahr <- 2002:2018
co2_SFH <- co2_SFH/1e7
co2_MFH <- co2_MFH/1e7
co2_ALL <- co2_ALL/1e7
co2_SFH$abrechnungsjahr <- 2002:2018
co2_MFH$abrechnungsjahr <- 2002:2018
co2_ALL$abrechnungsjahr <- 2002:2018
co2_SFH
rm(list=ls())
knitr::opts_chunk$set(echo = FALSE,cache=FALSE,message=FALSE)
source("../mainScriptCO2Emissions.R")
berlin_sfh <- getBerlinData("SFH")
bezirk_list <- unique(berlin_sfh$bezirk)
getwd()
setwd("D:/GITHUB_REPOS/co2emissions/Berlin/BezirkAnalysis/CO2Emission_AlleBezirke/")
source("../mainScriptCO2Emissions.R")
rm(list=ls())
source("../mainScriptCO2Emissions.R")
berlin_sfh <- getBerlinData("SFH")
bezirk_list <- unique(berlin_sfh$bezirk)
bezirk <- "friedrichshain_kreuzberg"
source("../mainScriptCO2Emissions.R")
co2_SFH <- main_function("SFH" , bezirk)
co2_MFH <- main_function("MFH" , bezirk)
co2_ALL <- co2_SFH + co2_MFH
co2_ALL$abrechnungsjahr <- 2002:2018
co2_SFH <- co2_SFH/1e7
co2_MFH <- co2_MFH/1e7
co2_ALL <- co2_ALL/1e7
co2_SFH$abrechnungsjahr <- 2002:2018
co2_MFH$abrechnungsjahr <- 2002:2018
co2_ALL$abrechnungsjahr <- 2002:2018
source("../mainScriptCO2Emissions.R")
bezirk_list <- c("mitte"  ,                    "pankow"       ,              "friedrichshain_kreuzberg" ,  "lichtenberg"          ,      "charlottenburg_wilmersdorf",
"tempelhof_schoeneberg"  ,    "neukoelln"              ,    "steglitz_zehlendorf"        ,"treptow_koepenick"          ,"marzahn_hellersdorf"       ,
"reinickendorf" ,             "spandau")
bezirk_list <- unique(berlin_sfh$bezirk)
SFH_absCO2 <- data.frame(abrechnungsjahr=NULL,erdgas=NULL,waerme=NULL, fluessiggas=NULL,  heizoel=NULL, holzpellets=NULL, strom=NULL,total=NULL)
bezirk_name <- NULL
for (bezirk in bezirk_list) {
co2_SFH <- main_function("SFH" , bezirk)
co2_MFH <- main_function("MFH" , bezirk)
co2_ALL <- co2_SFH + co2_MFH
co2_ALL$abrechnungsjahr <- 2002:2018
co2_SFH <- co2_SFH/1e7
co2_MFH <- co2_MFH/1e7
co2_ALL <- co2_ALL/1e7
co2_SFH$abrechnungsjahr <- 2002:2018
co2_MFH$abrechnungsjahr <- 2002:2018
co2_ALL$abrechnungsjahr <- 2002:2018
bezirk_name <- c(bezirk_name , bezirk)
SFH_absCO2_temp <- co2_SFH[co2_SFH$abrechnungsjahr==2018 , ]
SFH_absCO2 <- rbind(SFH_absCO2 , SFH_absCO2_temp)
SFH_absCO2$bezirk <- bezirk_name
}
